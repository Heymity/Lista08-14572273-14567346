package ex3;
import java.util.*;

public class MulticonjuntoSet<T> extends MulticonjuntoAbstrato<T> {
	private HashSet<Wrapper> set;
	
	public boolean contains(Object e) {
		Iterator<MulticonjuntoSet<T>.Wrapper> i = set.iterator();
		while(i.hasNext()) {
			Wrapper w = (Wrapper)i.next();
			if (w.element.equals(e)) return true;
		}
		
		return false;
	}
	
	public int getMultiplicity(Object e) {
		Iterator<MulticonjuntoSet<T>.Wrapper> i = set.iterator();
		while(i.hasNext()) {
			Wrapper w = (Wrapper)i.next();
			if (w.element.equals(e)) return w.multiplicity;
		}
		
		return 0;
	}
	
	public boolean add(T e) {
		add(e, 1);	
    }
	
	public boolean add(T e, int m) {
		Iterator<MulticonjuntoSet<T>.Wrapper> i = set.iterator();
		while(i.hasNext()) {
			Wrapper w = (Wrapper)i.next();
			if (w.element.equals(e)) {
				w.multiplicity += m;
				return true;
			}
		}
		
		return set.add(new Wrapper(e, m);	
    }
	
	public boolean addAll(MulticonjuntoAbstrato<T> c) {
		Iterator<MulticonjuntoAbstrato<T>.Wrapper> i = c.iterator();
		while (i.hasNext()) {
			Wrapper w = (Wrapper)i.next();
			add(w.element, w.multiplicity);
		}
	}

	public Iterator<MulticonjuntoSet<T>.Wrapper> iterator() {
		return set.iterator();
	}
}
